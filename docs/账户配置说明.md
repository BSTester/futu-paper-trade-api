# 账户配置说明

## ✅ 已完成配置

### 1. Cookie配置
已从浏览器自动获取并填入 `.env` 文件中的 `FUTU_COOKIE`

### 2. 默认账户配置
已设置美股模拟账户为默认账户：
- **账户ID**: 11587526
- **账户名称**: 美股融资融券模拟账户
- **初始资金**: $1,000,000.00 美元
- **最大购买力**: $2,000,000.00 美元

## 📊 你的账户列表

根据浏览器分析，你有以下模拟交易账户：

### 1. 港股账户
- **账户ID**: 9393
- **账户名称**: 港股模拟账户
- **资产净值**: 699,740.53 港币
- **市场类型**: HK

### 2. 美股账户（已设为默认）
- **账户ID**: 11587526
- **账户名称**: 美股融资融券模拟账户
- **资产净值**: 1,000,000.00 美元
- **市场类型**: US

### 3. 美股比赛账户
- **账户ID**: 16992013
- **账户名称**: 第二届全球模拟交易大赛
- **资产净值**: 100,303.41 美元
- **市场类型**: US（比赛）

## 🎯 账户使用说明

### 自动匹配模式（推荐）

系统会根据股票代码的市场类型自动选择对应的账户：

```bash
# 买入美股 - 自动使用美股账户 (11587526)
curl -X POST "http://localhost:8000/api/trade/buy?stock_code=NVDA&market_type=US&quantity=10&price=202.50"

# 买入港股 - 自动使用港股账户 (9393)
curl -X POST "http://localhost:8000/api/trade/buy?stock_code=00700&market_type=HK&quantity=100&price=380.00"
```

### 手动指定账户

如果你想使用特定的账户，可以直接指定账户ID：

```bash
# 使用比赛账户交易
curl -X POST "http://localhost:8000/api/trade?account_id=16992013" \
  -H "Content-Type: application/json" \
  -d '{
    "stock_code": "NVDA",
    "market_type": "US",
    "side": "BUY",
    "quantity": 10,
    "price": 202.50
  }'
```

## 🔄 切换默认账户

如果你想更改默认账户，编辑 `.env` 文件中的 `ACCOUNT_ID`：

```env
# 使用港股账户作为默认
ACCOUNT_ID=9393

# 使用美股账户作为默认（当前配置）
ACCOUNT_ID=11587526

# 使用比赛账户作为默认
ACCOUNT_ID=16992013
```

## 📝 配置文件位置

- **配置文件**: `futu-paper-trade-api/.env`
- **示例文件**: `futu-paper-trade-api/.env.example`

## ⚠️ 注意事项

1. **Cookie有效期**
   - Cookie会过期，通常有效期为几天到几周
   - 如果遇到认证失败，需要重新获取Cookie

2. **账户权限**
   - 确保账户已开通对应市场的模拟交易权限
   - 未开通的市场无法进行交易

3. **资金限制**
   - 每个账户有独立的资金和持仓
   - 美股账户: $1,000,000 初始资金
   - 港股账户: 699,740 港币

4. **自动匹配优先**
   - 推荐使用 `market_type` 参数让系统自动匹配账户
   - 这样可以避免账户混淆

## 🚀 快速开始

1. **启动服务**
```bash
cd futu-paper-trade-api
python main.py
```

2. **查看账户信息**
```bash
# 查看所有账户
curl http://localhost:8000/api/accounts

# 查看美股账户
curl "http://localhost:8000/api/account/info?market_type=US"

# 查看港股账户
curl "http://localhost:8000/api/account/info?market_type=HK"
```

3. **开始交易**
```bash
# 买入美股
curl -X POST "http://localhost:8000/api/trade/buy?stock_code=NVDA&market_type=US&quantity=10&price=202.50&order_type=LIMIT"
```

## 📖 更多信息

- 查看 `README.md` 了解完整功能
- 查看 `更新说明.md` 了解自动匹配功能
- 访问 http://localhost:8000/docs 查看API文档

配置完成！现在你可以开始使用富途模拟交易API了！🎉
